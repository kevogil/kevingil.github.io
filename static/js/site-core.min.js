(function(a,d){var c=function(e,f){this.preloadableItems=e;this.onComplete=f;this.minTimePassed=false;this.minTime=3000;this.start()};c.prototype.start=function(){var e=this;var g=this.preloadableItems.size();var f=0;this.preloadableItems.each(function(h){var i=$(this);if($(this).is("img")){$("<img>").attr({src:i.attr("data-src")}).load(function(){f++;i.attr("src",i.attr("data-src"));if(g==f&&e.minTimePassed){e.onComplete()}}).error(function(){f++;if(g==f&&e.minTimePassed){e.onComplete()}})}else{$.ajax({url:i.attr("data-src"),type:"GET",dataType:"HTML",success:function(j){f++;i.html(j);if(g==f&&e.minTimePassed){e.onComplete()}},error:function(){f++;if(g==f&&e.minTimePassed){e.onComplete()}}})}});setTimeout(function(){e.minTimePassed=true;if(g==f){e.onComplete()}},this.minTime)};var b="ContentPreloader";$.fn[b]=function(e){var f=$(this);var g=f.data(b);if(!g&&typeof e==="function"||!e){g=new c(f,e);f.data(b,g)}return f}})(window);(function(a){a.fn.randomize=function(b){return this.each(function(){var f=a(this);var c=f.find(b);var e=c.first().parent();c.sort(function(){return(Math.round(Math.random())-0.5)});f.detach(b);for(var d=0;d<c.length;d++){e.append(c[d])}})}})(jQuery);(function(b,d){var a=function(){var e=this;this.list=new Array();this.screenSize=$(b).height();$(b).scroll(function(k){try{var f=$(this).scrollTop();for(var h=0;h<e.list.length;h++){var j=e.list[h];if(j.interval){if(f>=j.action&&f<=j.actionEnd){j.complete=false;j.visible=true;var g=Math.ceil((f-j.action)*100/(j.actionEnd-j.action));j.callbackIn.call(j,j.obj,g,f)}else{if((f>j.actionEnd&&!j.complete)||(!j.visible&&f>j.actionEnd)){j.callbackIn.call(j,j.obj,100,f);j.complete=true;j.visible=true}else{if((f<j.action&&!j.complete)||(f<j.action&&j.visible)){j.callbackIn.call(j,j.obj,0,f);j.complete=true;j.visible=false}}}}else{if(j.action!=0&&j.action<=f&&!j.complete){j.callbackIn.call(j,j.obj);j.complete=true}else{if(j.action>f&&j.complete&&typeof j.callbackOut=="function"){j.callbackOut.call(j,j.obj);j.complete=false}else{if(j.action>f&&!j.complete){j.callbackOut.call(j,j.obj);break}}}}}}catch(k){}});$(b).resize(function(){e.screenSize=$(this).height();e.calculateCheckPoints()})};a.prototype.add=function(h,e,f,g,i){return this.list.push({obj:h,width:0,height:0,startPosition:e,endPosition:f,action:0,actionEnd:0,interval:false,callbackIn:g,callbackOut:i,complete:false,visible:false})-1};a.prototype.calculateCheckPoints=function(){for(var h=0;h<this.list.length;h++){var j=this.list[h].startPosition;var k=this.list[h].endPosition;var l=this.list[h].action;var g=this.list[h].actionEnd;var m=this.list[h].obj;var e=m.height();if(typeof j=="function"){l=j(this.list[h].obj,this.screenSize)}else{if(j.indexOf("%")>=0){l=(m.offset().top-this.screenSize)+parseInt(j)/100*e}else{if(j.indexOf("px")>=0&&j!="0px"){var f=m.offset().top;l=f-this.screenSize+parseInt(j)}else{l=0}}}if(k){if(typeof k=="function"){g=k(this.list[h].obj,this.screenSize)}else{if(k.indexOf("%")){g=(m.offset().top-this.screenSize)+parseInt(k)/100*e}else{if(k.indexOf("px")){g=m.offset().top-this.screenSize+parseInt(k)}}}this.list[h].interval=true}this.list[h].action=l;this.list[h].actionEnd=g;this.list[h].width=this.list[h].obj.width();this.list[h].height=e}this.list.sort(function(n,i){return n.action-i.action});$(b).trigger("scroll")};b.scrollListener=new a();var c="scrollListener";$.fn[c]=function(e){var f=$(this);var g=f.data(c);if(!g&&typeof e==="object"||!e){g=b[c].add(f,e.startPosition,e.endPosition,e.callbackIn,e.callbackOut);f.data(c,g)}return f}})(window);(function(a,c){var d=function(k,g){var f=this;this.obj=k;this.wrapper=k.find(".me-carousel-wrapper");this.list=this.obj.randomize(".me-carousel-wrapper div").find(".me-carousel-wrapper div");this.currentPosition=1;this.controllButtons=$(".feedback-controll a");var h=this.list.size();var e=100*h+"%";var i=(100/h)+"%";this.wrapper.width(e);this.list.css("width",i);this.wrapper.height(this.list.eq(0).height());this.controllButtons.eq(0).on("touchstart click",function(m){var l=$(this);if(f.currentPosition<f.list.size()){if(f.controllButtons.eq(1).hasClass("disabled")){f.controllButtons.eq(1).removeClass("disabled")}f.wrapper.height(f.list.eq(f.currentPosition).height());f.currentPosition++;f.wrapper.css("left",((f.currentPosition-1)*-100)+"%");if("callback" in g&&typeof g.callback==="function"){g.callback()}}if(f.currentPosition==f.list.size()){l.addClass("disabled")}});this.controllButtons.eq(1).addClass("disabled").on("touchstart click",function(m){var l=$(this);if(f.currentPosition>1){if(f.controllButtons.eq(0).hasClass("disabled")){f.controllButtons.eq(0).removeClass("disabled")}f.wrapper.height(f.list.eq(f.currentPosition-2).height());f.currentPosition--;f.wrapper.css("left",((f.currentPosition-1)*-100)+"%");if("callback" in g&&typeof g.callback==="function"){g.callback()}}if(f.currentPosition==1){l.addClass("disabled")}});var j;$(a).resize(function(){clearTimeout(j);j=setTimeout(function(){f.wrapper.height(f.list.eq(f.currentPosition-1).height())},100)})};var b="contentCarousel";$.fn[b]=function(e){var f=$(this);var g=f.data(b);if(!g&&typeof e==="object"||!e){g=new d(f,e);f.data(b,g)}return f}})(window);(function(a,b){a.isMobile=function(){var c=false;(function(d){if(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i.test(d)){c=true}})(navigator.userAgent||navigator.vendor||a.opera);return c}})(window);var compatibility=(function(){var a=" Webkit Moz O ms";return{testSupportedCSSProperty:function(b){var d=a.split(" ");for(var c=0;c<d.length;c++){if(document.createElement("div").style[d[c]+b]!==undefined){return d[c]}}return false},svgSupport:function(){try{return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Shape","1.1")}catch(b){}return false},supportsHTMLVideo:function(){return !!document.createElement("video").canPlayType},backgroundSize:function(){return"backgroundSize" in document.documentElement.style},opacity:function(){return"opacity" in document.body.style}}})();setTimeout(function(){scrollTo(0,-1)},0);$(function(){var a=$("body");if(!isMobile()&&compatibility.supportsHTMLVideo()){$("#video-wrapper").html('<video muted autoplay loop="" poster="" id="homevideo"><source src="video/presentation.mp4" type="video/mp4"><source src="video/presentation.m4v" type="video/mp4" /><source src="video/presentation.webm" type="video/webm" /><source src="video/presentation.ogv" type="video/ogg" /><source src="video/presentation.mp4" /></video>')}else{$("#video-wrapper").html('<img src="images/backgrounds/mobile-header-bg.jpg">')}if(!compatibility.opacity()){a.addClass("no-opacity")}if(!compatibility.backgroundSize()){a.addClass("no-backgroundSize")}if(!compatibility.svgSupport()){a.addClass("no-svg");$(".me-svg").each(function(h){var g=$(this);var f=g.attr("src");g.attr("src",f.replace(".svg",".png"))})}if(!compatibility.testSupportedCSSProperty("Transform")){a.addClass("no-transform");$(".preload-wrapper").html("<img src='images/preloader/preloader.gif'>")}a.addClass("animate-preloader");$("#year").text(new Date().getFullYear());$("[data-src]").ContentPreloader(function(){$(".work-row").click(function(){var h=$(this);var e=h.hasClass("open");if(!e){h.data("opened",true);$("html, body").animate({scrollTop:h.offset().top},1000)}else{h.data("opened",false)}h.toggleClass("open");setTimeout(function(){window.scrollListener.calculateCheckPoints()},1000)});var f;if(!isMobile()&&compatibility.supportsHTMLVideo()){$(".work-row[data-video-src]").on("click",function(i){var h=$(this);if(h.hasClass("open")){if(h.data("video")){f=setTimeout(function(){h.data("video")[0].play()},300)}else{h.addClass("preloading");f=setTimeout(function(){h.removeClass("preloading");h.find("img:eq(0)").addClass("videoLoaded");var e=$('<video autoplay="" loop="" poster="images/backgrounds/transparent.png" id="homevideo"><source src="'+h.data("video-src")+'.mp4" type="video/mp4"><source src="'+h.data("video-src")+'.m4v" type="video/mp4" /><source src="'+h.data("video-src")+'.webm" type="video/webm" /><source src="'+h.data("video-src")+'.ogv" type="video/ogg" /><source src="'+h.data("video-src")+'.mp4" /></video>').appendTo(h.find(".video"));h.data("video",e)},3000)}}else{clearTimeout(f);h.removeClass("preloading");try{if(h.data("video")&&!h.data("opened")){h.data("video")[0].pause()}}catch(i){}}}).append('<div class="preloader"><div class="loading-circle"></div></div>')}$("#feedback-carousel").contentCarousel({callback:function(){setTimeout(function(){window.scrollListener.calculateCheckPoints()},100)}});a.addClass("preload-complete");scrollListener.calculateCheckPoints();try{setTimeout(function(){if(window.location.hash){var h=window.location.hash.substring(1);var e=$("#"+h);if(e.size()){$("html, body").animate({scrollTop:e.offset().top},1000)}}},100)}catch(g){}try{$("#homevideo")[0].currentTime=0;$("#homevideo")[0].play()}catch(g){}});if(!isMobile()){var d=$("#mainlogo");var b=$("#home");scrollListener.add($("#video-wrapper"),"0px",function(e){return b.height()-120},function(h,o,g){var j=h.data("playing");var l=b.height();var i=0.00042188;var m=1.15+((1070-l)*i);var n=((g>l-120)?l-120:g);h.css("top",n*m);try{d.css("top",n);var f=h.find("video")[0];if(o==100){f.pause();h.data("playing",false);h.css("visibility","hidden")}else{if(!j){f.play();h.css("visibility","visible")}}}catch(k){}})}else{a.addClass("mobile")}$(".about-module").scrollListener({startPosition:"80%",endPosition:function(e){return e.offset().top},callbackIn:function(f,e){switch(true){case (e>=10&&e<30):$("#about-img-3").add("#about-img-4").css("opacity",0);$("#about-img-2").css("opacity",1);break;case (e>=30&&e<40):$("#about-img-2").css("opacity",1);$("#about-img-3").css("opacity",1);$("#about-img-4").css("opacity",0);break;case (e>=40):$("#about-img-3").css("opacity",1);$("#about-img-4").css("opacity",1);break;default:$("#about-img-2").add("#about-img-3").add("#about-img-4").css("opacity",0)}}});$("#stormtrooper").scrollListener({startPosition:"30%",endPosition:function(e){return document.body.scrollHeight-document.body.clientHeight-100},callbackIn:function(f,e){f.css({left:-this.width+(this.width*e/100)+"px"})}});$("#speechBubble").scrollListener({startPosition:"100%",endPosition:function(e){return $("#contact").offset().top-50},callbackIn:function(f,e){f.css({"-moz-transform":"scale("+(e/100)+")","-webkit-transform":"scale("+(e/100)+")","-o-transform":"scale("+(e/100)+")","-ms-transform":"scale("+(e/100)+")",transform:"scale("+(e/100)+")"})}});scrollListener.add($(".skills-module"),!isMobile()?"45%":"30%",false,function(e){e.find(".skills-wrapper").addClass("animate")},function(e){e.find(".skills-wrapper").removeClass("animate")});if(!isMobile()){scrollListener.add($(".menu-toggle"),function(e){return $(".about-module").offset().top},false,function(e){e.addClass("animate")},function(e){e.removeClass("animate")})}scrollListener.add($(".to-top"),function(){return $(".about-module").offset().top},false,function(e){e.addClass("animate")},function(e){e.removeClass("animate")});scrollListener.add($("#brands"),"100%",false,function(e){e.addClass("animate")},function(e){e.removeClass("animate")});$("#compass-decorator").scrollListener({startPosition:function(e,f){return $("#brands").offset().top-f},endPosition:function(e,f){return $("#brands").offset().top-f+500},callbackIn:function(g,f,e){$("#compass-decorator").css({"-ms-transform":"rotate("+f+"deg)","-webkit-transform":"rotate("+f+"deg)",transform:"rotate("+f+"deg)"})}});var c=false;$(window).on("DOMMouseScroll mousewheel touchmove keyup keydown scroll",function(f){if(c){c=false}});$(".menu-toggle").on("click",function(f){a.toggleClass("open-menu");if(c){c=false}else{c=true}f.preventDefault()});$(".to-top").on("click",function(f){f.preventDefault()});$(window).on("resize orientationchange",function(){$("#video-wrapper").css({visibility:"visible",top:0});a.removeClass("me-noscroll open-menu");c=false});$('a[href^="#"]').on("click",function(g){if(a.hasClass("open-menu")){a.removeClass("me-noscroll open-menu");c=false}var f=$($(this).attr("href"));if(f.size()){$("html, body").animate({scrollTop:f.offset().top},1000)}g.preventDefault()})});